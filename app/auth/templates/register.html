<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='login_styles.css') }}">

</head>

<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="logo">CuraCloud</div>
    <div class="nav-buttons">
      <a  href="{{ url_for('auth.register') }}"><button class="login-btn">Register</button></a>
      <a  href="{{ url_for('auth.login') }}"><button class="login-btn">Login</button></a>
    </div>
  </header>

  <div class="container">
  <!-- Sidebar -->
        <div class="side-menu">
            <ul>
            <li><a href="{{ url_for('main.index') }}">Home</a></li>
            <li><a href="{{ url_for('main.contact') }}">Contact Us</a></li>
            <li><a href="{{ url_for('main.about') }}">About Us</a></li>
            <li><a href="{{ url_for('main.services') }}">Services</a></li>
            </ul>
        </div>




        <!-- Register Content -->
        <div class="content">

           <div class="register-page">
         <!-- Progress Bar -->
                <div class="progress-container">
                    <div class="progress-bar" id="formProgress"></div>
                </div>

        <!--added tabs-->
        <h1 class="register-title"> Patient Registration</h1>
              <hr style="width: 75%; margin: 30px auto; border-top: 1px dotted purple" >
        <!--Patient Registration Input-->
        <div class="tab-content">
            <form id="patient" class="active" method="POST" action="{{ url_for('auth.register') }}">
                <input type="hidden" name="role" value="patient">
        <!--<form action="#" method="post">-->
            <div class="form-grid">
                <div class="form-row">
                    <label class="form-label">First Name</label>
                    <input class="register-box" type="text" name="First_Name" placeholder="Enter first name" required>
                </div>
            
                <div class="form-row">
                    <label class="form-label">Last Name</label>
                    <input class="register-box" type="text" name="Last_Name" placeholder="Enter Last Name" required>
                </div>
            
                <div class="form-row">
                    <label class="form-label">Email</label>
                    <input class="register-box" type="text" name="Email" placeholder="Enter your preferred email" required>
                </div>
            
                <div class="form-row">
                    <label class="form-label">Username</label>
                    <input class="register-box" type="text" name="Username" placeholder="Enter your Username" required>
                </div>
            
                <div class="form-row">
                    <label class="form-label">Password</label>
                    <input class="register-box" type="password" name="Password" placeholder="Enter your password" required>
                </div>
            
                <div class="form-row">
                    <label class="form-label">Phone #</label>
                    <input class="register-box" type="text" name="Phone-Number" placeholder="Enter your phone number" required>
                </div>
            
                <div class="form-row">
                    <label class="form-label">Address</label>
                    <input class="register-box" type="text" name="Address" placeholder="Enter your current Address" required>
                </div>
            
                <div class="form-row">
                    <label class="form-label">Zip Code</label>
                    <input class="register-box" type="text" name="Zip-code" placeholder="Enter your Zip Code" required>
                </div>
            
                <div class="form-row">
                    <label class="form-label">City</label>
                    <input class="register-box" type="text" name="City" placeholder="Enter your city" required>
                </div>
            
                <div class="form-row">
                    <label class="form-label">Date of Birth</label>
                    <input class="register-box" type="date" name="DateOfBirth" placeholder="mm/dd/yyyy" required>
                </div>
            
                <div class="form-row">
                    <label class="form-label">Sex </label>
                     <select class="register-box" name="Sex" required>
                        <option value="">Select your sex</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-row">
                    <label class="form-label">Select Doctor</label>
                    <select class="register-box" name="DoctorID" required>
                        <option value="">Choose a doctor</option>

                        {% for doc in doctors %}
                            <option value="{{ doc.doctor_id }}">
                                Dr. {{ doc.first_name }} {{ doc.last_name }} — {{ doc.specialty }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
            </div>

          <!--Submit button-->
          <button type="submit">Register Patient</button>
            </form>
            <br><br>

           <p >Already have an account? 
                <a href="{{ url_for('auth.login') }}">Login here</a>
            </p>
         </div>
        </div>

            <!--If user already has an account, links them to login-->

 
            </div>
        </div>
    </div>
<script>
        // Form progress indicator
        function updateProgress() {
            const inputs = document.querySelectorAll('input[required], select[required]');
            const filled = Array.from(inputs).filter(input => input.value.trim() !== '').length;
            const progress = (filled / inputs.length) * 100;
            document.getElementById('formProgress').style.width = `${progress}%`;
        }

        // Add event listeners to all form inputs
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input, select');
            inputs.forEach(input => {
                input.addEventListener('input', updateProgress);
                input.addEventListener('change', updateProgress);
            });


            // Initialize progress bar
            updateProgress();
        });

      
    </script>

<div class="footer">
    <div>© Powered by Coin Flippers</div>
    <div class="footer-links">
    </div>
</div>
</body>
</html>